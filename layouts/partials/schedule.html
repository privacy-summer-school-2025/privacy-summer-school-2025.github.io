<h2 class="section-title">{{ .titles.schedule }}</h2>

<p>
  All rooms are located in <a href="#location">{{ .venue }}</a>.
</p>

{{ range $day := .schedule }}
  <h3 class="schedule-day">{{ $day.day }}</h3>
  <p></p>
  
  <div class="schedule-tbl">
    <table>
      <thead>
        <tr>
          <th class="schedule-time">Time</th>
          <th class="schedule-slot">Slot</th>
          <th class="schedule-description">Description</th>
        </tr>
      </thead>
      <tbody>
        {{ range $slot := $day.slots }}
          {{ if ne .presentation nil }}
            <tr>
              <td class="schedule-time">{{ .presentation.time }}</td>
              <td class="schedule-slot">
              {{ with .photo }}
                <span class="speaker-photo">
                  <img class="photo" src="{{ . }}" alt="{{ $slot.name }}">
                </span>
              {{ end }}

                {{ .presentation.title }}
                <!-- <span class="speakers-company">{{ .company }}</span> -->
                 <span class="speakers-company"><a href="#{{ .name | urlize }}">{{ .name }}</a></span>
              </td>
              <td class="schedule-description">
                {{ with .presentation.location }}
                  {{ $locations := . }}
                  <span class="schedule-location"><b>Location:</b> 
                    {{ range $index, $locId := $locations }}
                      {{ if $index }}, {{ end }}
                      {{ range $room := $.Rooms }}
                        {{ if eq $room.id $locId }}
                          <a href="{{ $room.url }}" target="_blank">{{ $room.name }}</a>
                        {{ end }}
                      {{ end }}
                    {{ end }}
                  </span>
                {{ end }}
                {{with .presentation.description}}
                <p> </p>
                <span class="schedule-description-text">
                {{ . | safeHTML}}
                </span>
                {{ end }}
              </td>
            </tr>
          {{ else }}
            <tr class="schedule-other">
              <td class="schedule-time">{{ .time }}</td>
              <td class="schedule-slot">{{ .name }}</td>
              <td class="schedule-description">-</td>
            </tr>
          {{ end }}
        {{ end }}
      </tbody>
    </table>
  </div>
  <p></p>
{{ end }}
